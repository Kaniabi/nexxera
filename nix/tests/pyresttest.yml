- config:
  - timeout: 500
  - testset: "Smoke test for all the endpoints"

- test:
  - name: "Ping"
  - url: "/ping"
  - expected_status: 200
  - validators:
    - compare: {raw_body: "", comparator: "contains", expected: "pong" }

- test:
  - name: "Delete all users."
  - url: "/users/"
  - method: 'DELETE'
  - expected_status: 200

- test:
  - name: "List all users."
  - url: "/users/"
  - expected_status: 200
  - validators:
    - compare:
        header: "content-type"
        expected: "application/json"

- test:
  - name: "Create an user"
  - url: "/users/"
  - method: "POST"
  - headers: {'Content-Type': 'application/json'}
  - body: '{ "name": "Alpha", "cnpj": "11111111111111" }'
  - expected_status: 201
  - validators:
    - compare:
        header: "content-type"
        expected: "application/json"
    - compare:
        jsonpath_mini: "."
        comparator: 'str_eq'
        expected: "{'cnpj': '11111111111111', 'id': 1, 'nome': 'Alpha'}"

- test:
  - name: "List all users, including the just created."
  - url: "/users/"
  - expected_status: 200
  - validators:
    - compare:
        header: "content-type"
        expected: "application/json"
    - compare:
        jsonpath_mini: "."
        comparator: 'str_eq'
        expected: "[{'cnpj': '11111111111111', 'id': 1, 'nome': 'Alpha'}]"

#- test:
#  - name: "Get transactions"
#  - url: "/transactions/"
#  - body: "GET transactions"
#
#- test:
#  - name: "Get transaction"
#  - url: "/transactions/9999/"
